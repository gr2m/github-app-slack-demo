# Snapshot report for `test/integration/github-webhooks.test.js`

The actual snapshot is saved in `github-webhooks.test.js.snap`.

Generated by [AVA](https://avajs.dev).

## issues.opened event

> logs

    [
      {
        issueNumber: 1,
        level: 30,
        msg: 'An issue was opened',
        owner: 'octocat',
        repo: 'hello-world',
      },
      {
        channelId: 'C12345678',
        issueNumber: 1,
        level: 30,
        msg: 'Sent message to Slack',
        owner: 'octocat',
        repo: 'hello-world',
        teamId: 'T12345678',
      },
    ]

> chatPostMessageCalls

    [
      {
        channel: 'C12345678',
        text: 'New issue opened: <html url>',
        token: '<token>',
      },
    ]

## issues.opened event - subscription not found

> logs

    [
      {
        issueNumber: 1,
        level: 30,
        msg: 'An issue was opened',
        owner: 'octocat',
        repo: 'hello-world',
      },
      {
        appId: 'A12345678',
        installationId: 1,
        level: 30,
        msg: 'No subscriptions found',
        owner: 'octocat',
        repo: 'hello-world',
      },
    ]

## issues.opened event - no slack app installation found

> logs

    [
      {
        issueNumber: 1,
        level: 30,
        msg: 'An issue was opened',
        owner: 'octocat',
        repo: 'hello-world',
      },
      {
        key: 'octocat/hello-world/A12345678/1/T12345678/C12345678',
        level: 40,
        msg: 'Slack installation not found',
        teamId: 'T12345678',
      },
    ]

## error in event handler

> logs

    [
      {
        err: {
          aggregateErrors: [
            {
              event: {
                id: '1',
                name: 'issues',
                payload: {},
              },
              message: 'error from event handler',
              stack: '<stack trace removed>',
              type: 'Error',
            },
          ],
          event: {
            id: '1',
            name: 'issues',
            payload: {},
          },
          message: 'error from event handler',
          stack: '<stack trace removed>',
          type: 'AggregateError',
        },
        level: 50,
        msg: 'An error occurred in a webhook handler',
      },
    ]
