# Snapshot report for `test/integration/github-webhooks.test.js`

The actual snapshot is saved in `github-webhooks.test.js.snap`.

Generated by [AVA](https://avajs.dev).

## issues.opened event

> logs

    [
      {
        issueNumber: 1,
        level: 30,
        msg: 'An issue was opened',
        owner: 'octocat',
        repo: 'hello-world',
      },
      {
        channelId: 'C12345678',
        level: 30,
        msg: 'subscription found',
      },
    ]

> chatPostMessageCalls

    [
      {
        channel: 'C12345678',
        text: 'New issue opened: <html url>',
        token: '<token>',
      },
    ]

## issues.opened event - subscription not found

> logs

    [
      {
        issueNumber: 1,
        level: 30,
        msg: 'An issue was opened',
        owner: 'octocat',
        repo: 'hello-world',
      },
      {
        level: 30,
        msg: 'No subscriptions found',
        owner: 'octocat',
        repo: 'hello-world',
      },
    ]

## issues.opened event - subscription found but not for app

> logs

    [
      {
        issueNumber: 1,
        level: 30,
        msg: 'An issue was opened',
        owner: 'octocat',
        repo: 'hello-world',
      },
      {
        appId: 'A12345678',
        level: 30,
        msg: 'Subscription not found for app',
        owner: 'octocat',
        repo: 'hello-world',
        subscriptionAppIds: [
          'ANOT12345678',
        ],
      },
    ]

## issues.opened event - subscription found but not for installation

> logs

    [
      {
        issueNumber: 1,
        level: 30,
        msg: 'An issue was opened',
        owner: 'octocat',
        repo: 'hello-world',
      },
      {
        installationId: 1,
        installations: [
          '2',
        ],
        level: 30,
        msg: 'Subscription not for current installation',
        owner: 'octocat',
        repo: 'hello-world',
      },
    ]

## error in event handler

> logs

    [
      {
        err: {
          aggregateErrors: [
            {
              event: {
                id: '1',
                name: 'issues',
                payload: {},
              },
              message: 'error from event handler',
              stack: '<stack trace removed>',
              type: 'Error',
            },
          ],
          event: {
            id: '1',
            name: 'issues',
            payload: {},
          },
          message: 'error from event handler',
          stack: '<stack trace removed>',
          type: 'AggregateError',
        },
        level: 50,
        msg: 'An error occurred in a webhook handler',
      },
    ]
